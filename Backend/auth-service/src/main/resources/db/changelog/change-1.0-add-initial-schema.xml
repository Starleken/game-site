<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                                       http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet id="1.0.0" author="Starleken">
        <sql>
            create table users
            (
                created_at bigint not null,
                created_by varchar(255),
                id         bigint generated by default as identity
                    primary key,
                updated_at bigint,
                updated_by varchar(255),
                email      varchar(255) not null,
                password   varchar(255) not null,
                role       varchar(255) not null
                    constraint users_role_check
                        check ((role)::text = ANY ((ARRAY ['ADMIN'::character varying, 'USER'::character varying, 'EDITOR'::character varying])::text[])),
                username   varchar(255) not null
            );
        </sql>

        <sql>
            create table refresh_tokens
            (
                id      bigserial
                    primary key,
                created_at bigint         not null,
                token   varchar(255) not null,
                status  varchar(255) not null,
                user_id bigint       not null
                    constraint refresh_tokens_users_id_fk
                        references users
            );
        </sql>
    </changeSet>

</databaseChangeLog>